<section class="register">
    <div class="register-wrapper">
        <!-- is-invalid -->
        <form #formContainer [formGroup]="form" class="d-flex justify-content-center mt-4" (ngSubmit)="submitForm()">
            <div class="form-wrapper w-50 bg-white p-4">
                <h2 class="text-center">Register</h2>
                <div class="mb-3">
                    <label for="first_name" class="form-label">First name</label>
                    <input #first_name type="text" formControlName="first_name" class="form-control " id="first_name"
                        aria-describedby="emailHelp" name="first_name">
                </div>
                <div class="mb-3">
                    <label for="last_name" class="form-label">Last name</label>
                    <input #last_name type="text" formControlName="last_name" class="form-control " id="last_name"
                        aria-describedby="emailHelp" name="last_name">
                </div>
                <div class="mb-3">
                    <label for="date_of_birth" class="form-label">Date of birth</label>
                    <input #date_of_birth type="date" formControlName="date_of_birth" class="form-control "
                        id="date_of_birth" aria-describedby="emailHelp" name="date_of_birth">
                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Phone number</label>
                    <div class="d-flex">
                        <select class="form-select" style="flex: 0 0 26%;" (change)="onSelect($event)">
                            <option *ngFor="let item of regionPhone" [value]="item.code">{{item.code}}</option>
                        </select>
                        <input #phone_number type="number" class="form-control" formControlName="phone_number"
                            aria-label="Text input with dropdown button" name="phone_number">
                    </div>
                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Email address</label>
                    <input #email type="email" formControlName="email" class="form-control" id="exampleInputEmail1"
                        aria-describedby="emailHelp" name="email">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Password</label>
                    <input #password type="password" formControlName="password" class="form-control"
                        id="exampleInputPassword1" name="password">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword2" class="form-label">Confirm Password</label>
                    <input #confirm_password type="password" formControlName="confirm_password" class="form-control"
                        id="exampleInputPassword2" name="confirm_password">
                </div>
                <div class="mb-3 form-check ">
                    <input formControlName="checkbox" (change)="addFieldsToForm()" type="checkbox"
                        class="form-check-input" id="exampleCheck2">
                    <label class="form-check-label" for="exampleCheck2">I want to receive updates and promotions
                        offers.</label>
                </div>
                <ng-container *ngIf="checkboxReceive">
                    <div formArrayName="additionalFields">
                        <div *ngFor="let field of additionalFields.controls; let i = index" [formGroupName]="i">
                            <div class="mb-3">
                                <label class="form-label">Prefer Contact Method</label>
                                <select class="form-select" formControlName="prefer_contact_method">
                                    <option *ngFor="let item of contactMethod" [value]="item.value">{{item.name}}
                                    </option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="street" class="form-label">Street Address</label>
                                <input type="text" formControlName="street_address" class="form-control " id="street"
                                    aria-describedby="emailHelp" name="street_address">
                            </div>
                            <div class="mb-3">
                                <label for="city" class="form-label">City</label>
                                <input type="text" formControlName="city" class="form-control " id="city"
                                    aria-describedby="emailHelp" name="city">
                            </div>
                            <div class="mb-3">
                                <label for="state" class="form-label">State</label>
                                <input type="text" formControlName="state" class="form-control" id="state"
                                    aria-describedby="emailHelp" name="state">
                            </div>
                            <div class="mb-3">
                                <label for="post-code" class="form-label">Postal Code</label>
                                <input type="number" formControlName="postal_code" class="form-control " id="post-code"
                                    aria-describedby="emailHelp" name="postal_code">
                            </div>
                            <div class="mb-3">
                                <label for="country" class="form-label">Country</label>
                                <input type="text" formControlName="country" class="form-control " id="country"
                                    aria-describedby="emailHelp" name="country">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">How did you hear about us?</label>
                                <select class="form-select" formControlName="hear_about_us">
                                    <option *ngFor="let item of hearAboutUs" [value]="item.value">{{item.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </ng-container>
                <button type="submit" class="btn btn-primary">Register</button>
            </div>
        </form>
    </div>
</section>


<div class="toast-container position-fixed top-0 end-0 p-3">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header d-flex justify-content-between">
            <div class="icon d-flex align-items-center gap-2" [ngStyle]="{color: toast.color}">
                <i [ngClass]="toast.icon" style="font-size: 30px;"></i>
                <h4 class="m-0">{{toast.status}}</h4>
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body" [ngStyle]="{color: toast.color}">
            {{toast.message}}
        </div>
    </div>
</div>